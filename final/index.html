<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1">
        <title>2018年中国游戏产业产值过2000亿，人才缺口达42万</title>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <body>
        <div class="title">你愿意为此而战吗？</div>
		<div class="pc para sub-title">
  <p><b>——2018年中国游戏产业产值过2000亿，人才缺口达42万。</b><br><i>《头号玩家》中说：“当我们这代人在游戏里砥砺成长，超越地域结交最真实的友谊，跨过虚拟收获最纯真的爱情。当游戏为代表的流行文化终于戴上光环，成为被传颂的伟大故事，让我们激动欢笑流泪，这意味着，一代人的怕与爱被认可了。”
<br/>你也是想要加入这场游戏战争中的一员吗？
</i></p>
</div>
        <div class="para pc"><h1>我国游戏发展：自主开发市场发展迅速</h1>
        <p>2018年，我国市场实际销售额达2144.4亿元，同比增长5.3%。在全球游戏市场中，我国游戏占比将近四分之一，位居世界各国第一。与此同时，我国游戏自主研发市场销售收入也在逐年攀升，2018年销售收入达1643.9亿元，同比增长17.6%。<br>下图显示了我国2008年——2018年间游戏市场收入总额以及自主开发游戏市场收入数额的变迁。其中，Original代表自主开发游戏市场，Others为其他。
        </p>
                   </div>

		<!-- <div class="front"> -->

			<!-- <div class="front_part"> -->
				 <!-- <div class="front_container" id="front1"> -->
                 <div id="chart">
        <div id="form">
            <label><input type="radio" name="mode" value="bycount" checked>我国游戏市场实际销售收入数额（亿元）</label>
            <label><input type="radio" name="mode" value="bypercent" >我国游戏市场实际销售收入占比（%）</label>
        </div>
                <!-- </div> -->
                    
            </div>
				<!-- </div> -->
             
<div class="para pc">
<h1>游戏市场人才缺口扩大：行业平均薪资破万，工作经验影响最大</h1>
 <p>由于游戏产业属于新兴产业，其中移动游戏行业近几年发展迅速，游戏产业在从业者积累较少的情况下，需求不断新增，存在较大的缺口。在此背景下，游戏产业人才的需求量产生了大幅度增长，薪资水平也被市场发展推向了高点。2017年，游戏产业的平均薪资超过一万元，在同类产业中处于领先地位。<br>游戏产业在薪资上的优势主要源于，第一，游戏产业整体市场稳定增长，促使资本不断涌入推动了人才需求的持续增长；第二，游戏人才的高薪离不开游戏产业出众的营收以及盈利能力，通过对上市游戏企业财报的观察统计，体量较大的头部游戏企业净利润率同样保持在较高水平。
<br>据<a href="http://www.joynews.cn/">伽马数据（CNG）</a>调查统计，拥有游戏产业从业意愿的大学生达到917万，其中37万有明确从业意愿，880万有较高从业意愿。大部分人是因为兴趣，但是游戏产业相对较高的平均薪资也是吸引人才的一个重要因素。截至2018年6月末，全国游戏企业招聘人数规模为42.8万人，其中游戏开发、游戏运营与游戏设计占据主要比例，游戏策划需求数量则相对较少。<br>调查显示，与学历层次相比，从业者薪资更容易受到工作经验影响，工作经验十年以上平均月薪超过两万。（下图单位：元）
<br><img src="pic1.png" width="100%" class="pc"></p>

                   </div>

<div class="para pc">
<h1>不同职能薪资差异大：最高达40%以上</h1>
 <p>从游戏企业提供的薪资待遇来看，不同职位在薪资方面的表现有明显差异。其中，开发类职位的薪资水平具有明显优势，平均月薪资超过14000元，运营类平均薪资则较低。游戏产品开发是游戏产业的核心，优秀的游戏开发人才需求大，待遇高，但是同为游戏开发岗位，不同的职位分工薪资待遇也具有明显差异,服务器开发工程师平均薪资将近运维工程师的两倍。而运营职位中，数据分析岗位薪资也十分可观。（下图单位：元）<br><img src="pic2.png" width="100%" class="pc"></p>

                   </div>

 <div class="para reference"> 
  <p>数据来源：伽马数据2018年中国游戏产业报告、2018年游戏企业招聘需求及高校调查报告、中国游戏从业者状况及薪资调查报告。</p>
  

</div>

<div class="splitline" style="border-top: 1px solid #666;"></div>
<div class="para" style="color:#666; font-size: 14px;">

  <p>
    制作：王一宁<br/>
    201601133005<br/>
  </p>
</div>



		<!-- </div>
 -->
	<!-- d3线上lib -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.1.0/d3.js"></script>
    <!-- jquery线上lib -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>


    <script type="text/javascript">
        

        var fullwidth = 1000,
            fullheight = 500;

        var margin = {top: 10, right:125, bottom: 30, left:50},
            width = fullwidth - margin.left - margin.right,
            height = fullheight - margin.top - margin.bottom;

        var svg = d3.select("#chart").append("svg")
                .attr("width", fullwidth )
                .attr("height", fullheight)
                .append("g")
                .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        var xScale = d3.scaleBand()
                .range([0, width])
                .padding(.5);

        var yScale = d3.scaleLinear()
                .range([height, 0]);

        var colorScale = d3.scaleOrdinal(d3.schemeCategory20b); 
        var xAxis = d3.axisBottom(xScale).ticks(15);
        var yAxis = d3.axisLeft(yScale);

        var formatDate = d3.timeFormat("Year %Y");
        var parseDate = d3.timeParse("Year %Y");

        var stack = d3.stack();
		var tooltip = d3.select("body").append("div").attr("class", "tooltip");

        d3.csv("amount.csv", function(error, data) {

            if (error) { console.log(error); };

            // wide data
            var dataset =  d3.nest()
                .key(function(d) { return d.Year; }).sortKeys(d3.ascending)
                .rollup(function(d) { 
                    return d.reduce(function(prev, curr) {
                      prev["Year"] = curr["Year"];
                      prev[curr["Country"]] = curr["Student"];
                      return prev;
                    }, {});
                })
                .entries(data)
                .map(function(d) { return d.value; });

            // console.log("dataset", dataset)

            var country = ["Original","Others"]

            stack.keys(country)

            xScale.domain(dataset.map(function(d){ return d.Year;} ))

            // 1. default "Count"
            // 1.1 初始参数
            stack.offset(d3.stackOffsetNone);
            var layers = stack(dataset);
                       
            draw(layers);

            // 1.2 初始stacks
            var series = svg.selectAll("g.series")
                .data(layers);
            series
                .enter().append("g")
                .attr("class", "series")
                .style("fill", function(d) { return colorScale(d.key); })

            series
                .selectAll("rect.rect")
                .data(function(d){ return d; })
                .enter().append("rect")
                .attr("class","rect")
                .attr("x",function(d) { return xScale(d.data.Year); })
                .attr("y",function(d) { return yScale(d[1]); })
                .attr("width", xScale.bandwidth())
                .attr("height", function(d) { return yScale(d[0]) - yScale(d[1]) ; })
			    .on("mouseover", mouseover)
                .on("mousemove", mousemove)
                .on("mouseout", mouseout);

            // 1.3 初始click
            d3.selectAll("input").on("change", handleFormClick);

            // 2 update 
            // 2.1 update handler
            function handleFormClick() {
                if (this.value === "bypercent") { 
                    currentMode = "bypercent"; 

                    yAxis.tickFormat(d3.format(".0%"));
                    stack.offset(d3.stackOffsetExpand);
                    layers = stack(dataset);
                    draw(layers);
                } else {
                    currentMode = "bycount"; 
                    
                    yAxis.tickFormat(d3.format(",.0f"));
                    stack.offset(d3.stackOffsetNone);
                    layers = stack(dataset);
                    draw(layers);
                }
            }

            // 2.2 update draw data
            function draw(layers){

                // layers = stack(dataset);
                // console.log("layers", layers); 
                var maxY = d3.max(
                    layers,  function(l){
                        return d3.max(l, function(d) { return d[1]; })
                    }
                ) 
                yScale.domain([0, maxY]); 

                var series = svg.selectAll("g.series")
                    .data(layers)

                series
                    .enter().append("g")
                    .attr("class", "series")
                    .style("fill", function(d) { return colorScale(d.key); })

                // var rects = series
                series
                    .selectAll("rect.rect")
                    .data(function(d){ return d; })
                    .enter().append("rect")
                    .attr("class","rect")
                    .attr("x",function(d) { return xScale(d.data.Year); })
                    .attr("width", xScale.bandwidth())

                d3.selectAll("rect.rect")
                    .transition()
                    .duration(250)
                    .attr("y",function(d) { return yScale(d[1]); })
                    .attr("height", function(d) { return yScale(d[0]) - yScale(d[1]) ; })
                    // .append("title")
                    // .text(function(d) {
                    //     return d.key; // country is the key in the nest
                    // });
                series.exit().remove()
                svg.selectAll(".y.axis").transition().call(yAxis);

            } // end of draw()

            
            svg.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis);

            svg.append("g")
                .attr("class", "y axis")
                .call(yAxis);
			layers.sort(function(a,b){
                return a[0][0] - b[0][0];
            })
            var layers_key = layers.map(function(l){ return l.key; })

			var legend_order = layers_key.slice().reverse();

            console.log("legend_order",legend_order);

            var legend = svg.selectAll(".legend")
                .data(legend_order)
                .enter().append("g")
                .attr("class", "legend")
                .attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });

            legend.append("rect")
                .attr("x", width)
                .attr("width", 18)
                .attr("height", 18)
                .style("fill", function(d) {return colorScale(d);}); // country name

            legend.append("text")
                .attr("x", width + 24)
                .attr("y", 9)
                .attr("dy", ".35em")
                .style("text-anchor", "start")
                .text(function(d, i) { return legend_order[i]/*.replace(/_/g, " ");*/ });
        

              function mouseover(d) {

          d3.select(this)
            .transition()
            .style("stroke", "black");
            var parent = d3.select(this).node().parentNode.__data__;
            // console.log(parent)
          tooltip
            .style("display", null) 
            .html("<p> " + parent.key + "销售收入：" + (d[1]-d[0]) +" </p>");
        }

        function mousemove(d) {
          tooltip
            .style("top", (d3.event.pageY - 10) + "px" )
            .style("left", (d3.event.pageX + 10) + "px");
          }

        function mouseout(d) {
          d3.select(this)
            .transition()
            .style("stroke", "none");

          tooltip.style("display", "none");  
        }


        }); // end of d3.csv

        

    </script>
    <!-- jquery线上lib -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- js scripts -->
    <script type="text/javascript" src="js/prep.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/scroll.js"></script>


</html>
